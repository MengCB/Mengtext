<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>开关灯</title>
		<style type="text/css">
			.bt1,
			.bt2 {
				position: relative;
				top: 20px;
				left: 50px;
				width: 100px;
				height: 50px;
			}

			.box1 {
				position: absolute;
				top: 40%;
				left: 40%;
				width: 200px;
				height: 200px;
				box-shadow: #FFFFFF 0px 0px 10px 20px;
				border-radius: 50%;
				background-color: yellow;
				opacity: 1;
			}

			.mask {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				display: none;
				background-color: black;
			}
		</style>
	</head>
	<body>
		<div class="box1" id="box1"></div>
		<div class="mask" id="mask"></div>
		<input type="button" class="bt1" value="开灯" onclick="Open()" />
		<input type="button" class="bt2" value="关灯" onclick="Stop()" />
	</body>
</html>
<script type="text/javascript">
	var timer;
	var timer1;
	var bg = 10;
	var upFlag = false;

	function Open() {
		timer = setInterval(function() {
			if (bg > 180) {
				upFlag = false;
			}
			if (bg <= 10) {
				upFlag = true;
			}
			if (upFlag) {
				bg += 12;
				document.getElementById("box1").style.opacity = "1";
				document.getElementById("mask").style.display = "none";
			} else {
				clearInterval(timer);
				document.getElementById("mask").style.backgroundColor = "yellow";
				document.getElementById("mask").style.display = "block";
			}
			console.info(bg);
			document.getElementById("box1").style.boxShadow = "yellow 0px 0px " + bg + "px " + bg + "px";
		}, 400);

	};

	function Stop() {
		timer1 = setInterval(function() {
			if (bg > 180) {
				upFlag = false;
			}
			if (bg <= 10) {
				upFlag = true;
			}
			if (upFlag) {
				clearInterval(timer1);
				document.getElementById("box1").style.opacity = "0";
				document.getElementById("mask").style.display = "block";
				
			} else {
				bg -= 12;
				document.getElementById("mask").style.background = "";
				document.getElementById("mask").style.display = "none";
			}
			console.info(bg);
			document.getElementById("box1").style.boxShadow = "yellow 0px 0px " + bg + "px " + bg + "px";
		}, 400);
	}
</script>
