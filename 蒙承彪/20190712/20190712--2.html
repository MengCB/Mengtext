<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>转盘</title>
		<style type="text/css">
			body {
				text-align: center;
			}

			.rollingpan {
				width: 600px;
				height: 600px;
				border-radius: 50%;
				border: 10px solid powderblue;
			}

			.itemX {
				width: 600px;
				height: 80px;
				/* border: 1px solid #FF8C00; */
				margin-top: 260px;
				position: absolute;
				text-align: right;
				line-height: 80px;
				font-size: 20px;
				font-weight: 900;
			}
		</style>
	</head>
	<body>
		<input type="button" id="doRolling" value="转/停" />
		<!-- 		<input type="button" value="转!!" id="startRolling" />
		<input type="button" value="停!!" id="stopRolling" /> -->
		<div class="rollingpan" id="rollingpan11">
			
		</div>
	</body>
</html>
<script type="text/javascript">
	var timerPan = 0;
	// 转动 或者停止转盘
	function doRolling(flag) {
		
		if (flag) {
			var anble = 0;
			timerPan = setInterval(function() {
				anble += 5; // 每次转动的角度
				if (anble > 360) {
					anble = 0;
				}
				document.getElementById("rollingpan11").
				style.transform = "rotate(" + anble + "deg)";
			}, 10);
		} else {
			if (timerPan) {
				console.info(document.getElementById("rollingpan11").style.transform);
				clearInterval(timerPan);
			}
		}
	}
	// document.getElementById("stopRolling").onclick = function(e) {
	// 	doRolling(false);
	// }
	// document.getElementById("startRolling").onclick = function(e) {
	// 	doRolling(true);
	// }

	var _isRollong = false; //转盘状态标志位
	document.getElementById("doRolling").onclick = function() {
		if (!_isRollong) {
			_isRollong = true;
		} else {
			_isRollong = false;
		}
		doRolling(_isRollong);
	}


var allStudents = [{
			name: "曾敏",
			id: 1
		},
		{
			name: "黄盛玺",
			id: 2
		},
		{
			name: "杨庆文",
			id: 300
		},
		{
			name: "李春朋",
			id: 4
		},
		{
			name: "赵珊",
			id: 5
		},
		{
			name: "孙蒙",
			id: 6
		},
		{
			name: "高原",
			id: 7
		},
		{
			name: "雷雪煜",
			id: 8
		},
		{
			name: "王文金",
			id: 9
		},
		{
			name: "韦清源",
			id: 10
		},
		{
			name: "高佳骏",
			id: 11
		},
		{
			name: "董青林",
			id: 12
		},
		{
			name: "刘伟业",
			id: 13
		},
		{
			name: "陈艺宇",
			id: 14
		},
		{
			name: "李烜铖",
			id: 15
		},
		{
			name: "满春发",
			id: 16
		},
		{
			name: "蒙承彪",
			id: 17
		},
		{
			name: "苏壮晖",
			id: 18
		},
		{
			name: "施一航",
			id: 19
		},
		{
			name: "王程鑫",
			id: 20
		},
		{
			name: "骆明睿",
			id: 21
		},
		{
			name: "梁鸿标",
			id: 22
		},
		{
			name: "黄伟洪",
			id: 23
		},
		{
			name: "黄河源",
			id: 24
		},
		{
			name: "杨昊",
			id: 25
		},
		{
			name: "李旭昊",
			id: 26
		},
		{
			name: "黄春惠",
			id: 27
		},
		{
			name: "尚冉",
			id: 28
		},
		{
			name: "袁鑫",
			id: 29
		}
	];
	
	// 数据分高
	
	function fillRollingPan(studentsArr) {
		// 对360度进行等分
		var oneAngle = 360/studentsArr.length;
		for (var i = 0; i < studentsArr.length; i++) {
			var oneStudent = document.createElement("div");
			oneStudent.setAttribute("class", "itemX");
			oneStudent.id = "item" + studentsArr[i].id;
			oneStudent.innerText = studentsArr[i].name;
			var currAngle = oneAngle * i;
			oneStudent.style = "transform: rotate(" + currAngle +"deg)";
			
			document.getElementById("rollingpan11").appendChild(oneStudent)
		}

	}
	fillRollingPan(allStudents);
	
	
</script>
